---
title: gdb打印errno显示cant find thread-local storage xxxx
categories:
  - Linux
tags:
  - cant find thread-local storage
  - errno
---

# gdb打印errno显示cant find thread-local storage xxxx

errno即最后一次错误的错误码，定义在&lt;errno.h&gt;里面，是一个宏

> 
#if !defined _LIBC || defined _LIBC_REENTRANT<br/> /* When using threads,errno is a per-thread value. */<br/> #define errno (*__errno_location ())<br/> # endif


errno是线程安全的，好像每个线程都有自己的errno<br/> 打印errno是一个错误码，还需要去对照找具体含义，而调用一下下面这个函数就可以将错误码转换成字符串描述的错误信息

```
char *strerror(int errno)

```

当在gdb里打印errno值的时候，有可能会出现cant find thread-local storage xxxx的提示信息，这时可以尝试直接打印p *__errno_location (),需要注意的是注意函数原型有没有问题，ptype看下，万一是64位cpu可能有数据被截断的风险

附错误定义:<br/> errno: 0 Success<br/> errno: 1 Operation not permitted<br/> errno: 2 No such file or directory<br/> errno: 3 No such process<br/> errno: 4 Interrupted system call<br/> errno: 5 Input/output error<br/> errno: 6 No such device or address<br/> errno: 7 Argument list too long<br/> errno: 8 Exec format error<br/> errno: 9 Bad file descriptor<br/> errno: 10 No child processes<br/> errno: 11 Resource temporarily unavailable<br/> errno: 12 Cannot allocate memory<br/> errno: 13 Permission denied<br/> errno: 14 Bad address<br/> errno: 15 Block device required<br/> errno: 16 Device or resource busy<br/> errno: 17 File exists<br/> errno: 18 Invalid cross-device link<br/> errno: 19 No such device<br/> errno: 20 Not a directory<br/> errno: 21 Is a directory<br/> errno: 22 Invalid argument<br/> errno: 23 Too many open files in system<br/> errno: 24 Too many open files<br/> errno: 25 Inappropriate ioctl for device<br/> errno: 26 Text file busy<br/> errno: 27 File too large<br/> errno: 28 No space left on device<br/> errno: 29 Illegal seek<br/> errno: 30 Read-only file system<br/> errno: 31 Too many links<br/> errno: 32 Broken pipe<br/> errno: 33 Numerical argument out of domain<br/> errno: 34 Numerical result out of range<br/> errno: 35 Resource deadlock avoided<br/> errno: 36 File name too long<br/> errno: 37 No locks available<br/> errno: 38 Function not implemented<br/> errno: 39 Directory not empty<br/> errno: 40 Too many levels of symbolic links<br/> errno: 41 Unknown error 41<br/> errno: 42 No message of desired type<br/> errno: 43 Identifier removed<br/> errno: 44 Channel number out of range<br/> errno: 45 Level 2 not synchronized<br/> errno: 46 Level 3 halted<br/> errno: 47 Level 3 reset<br/> errno: 48 Link number out of range<br/> errno: 49 Protocol driver not attached<br/> errno: 50 No CSI structure available<br/> errno: 51 Level 2 halted<br/> errno: 52 Invalid exchange<br/> errno: 53 Invalid request descriptor<br/> errno: 54 Exchange full<br/> errno: 55 No anode<br/> errno: 56 Invalid request code<br/> errno: 57 Invalid slot<br/> errno: 58 Unknown error 58<br/> errno: 59 Bad font file format<br/> errno: 60 Device not a stream<br/> errno: 61 No data available<br/> errno: 62 Timer expired<br/> errno: 63 Out of streams resources<br/> errno: 64 Machine is not on the network<br/> errno: 65 Package not installed<br/> errno: 66 Object is remote<br/> errno: 67 Link has been severed<br/> errno: 68 Advertise error<br/> errno: 69 Srmount error<br/> errno: 70 Communication error on send<br/> errno: 71 Protocol error<br/> errno: 72 Multihop attempted<br/> errno: 73 RFS specific error<br/> errno: 74 Bad message<br/> errno: 75 Value too large for defined data type<br/> errno: 76 Name not unique on network<br/> errno: 77 File descriptor in bad state<br/> errno: 78 Remote address changed<br/> errno: 79 Can not access a needed shared library<br/> errno: 80 Accessing a corrupted shared library<br/> errno: 81 .lib section in a.out corrupted<br/> errno: 82 Attempting to link in too many shared libraries<br/> errno: 83 Cannot exec a shared library directly<br/> errno: 84 Invalid or incomplete multibyte or wide character<br/> errno: 85 Interrupted system call should be restarted<br/> errno: 86 Streams pipe error<br/> errno: 87 Too many users<br/> errno: 88 Socket operation on non-socket<br/> errno: 89 Destination address required<br/> errno: 90 Message too long<br/> errno: 91 Protocol wrong type for socket<br/> errno: 92 Protocol not available<br/> errno: 93 Protocol not supported<br/> errno: 94 Socket type not supported<br/> errno: 95 Operation not supported<br/> errno: 96 Protocol family not supported<br/> errno: 97 Address family not supported by protocol<br/> errno: 98 Address already in use<br/> errno: 99 Cannot assign requested address<br/> errno: 100 Network is down<br/> errno: 101 Network is unreachable<br/> errno: 102 Network dropped connection on reset<br/> errno: 103 Software caused connection abort<br/> errno: 104 Connection reset by peer<br/> errno: 105 No buffer space available<br/> errno: 106 Transport endpoint is already connected<br/> errno: 107 Transport endpoint is not connected<br/> errno: 108 Cannot send after transport endpoint shutdown<br/> errno: 109 Too many references: cannot splice<br/> errno: 110 Connection timed out<br/> errno: 111 Connection refused<br/> errno: 112 Host is down<br/> errno: 113 No route to host<br/> errno: 114 Operation already in progress<br/> errno: 115 Operation now in progress<br/> errno: 116 Stale file handle<br/> errno: 117 Structure needs cleaning<br/> errno: 118 Not a XENIX named type file<br/> errno: 119 No XENIX semaphores available<br/> errno: 120 Is a named type file<br/> errno: 121 Remote I/O error<br/> errno: 122 Disk quota exceeded<br/> errno: 123 No medium found<br/> errno: 124 Wrong medium type<br/> errno: 125 Operation canceled<br/> errno: 126 Required key not available<br/> errno: 127 Key has expired<br/> errno: 128 Key has been revoked<br/> errno: 129 Key was rejected by service<br/> errno: 130 Owner died<br/> errno: 131 State not recoverable<br/> errno: 132 Operation not possible due to RF-kill<br/> errno: 133 Memory page has hardware error<br/> errno: 134~255 unknown error!
